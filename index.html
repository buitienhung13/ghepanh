<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ghép Ảnh Game - 52hzmisfit</title>
  <style>
  /* Reset & layout cơ bản */
  * {
    box-sizing: border-box;
  }

  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow-x: hidden;
    background: linear-gradient(180deg, #0a0a0a, #1b1208, #2a1c0b);
    font-family: 'Poppins', sans-serif;
    color: #2377B7;
  }

  /* Header cố định */
  header {
    text-align: center;
    padding: 20px;
    background: rgba(0, 0, 0, 0.4);
    box-shadow: 0 2px 10px rgba(255, 215, 0, 0.2);
  }

  header a {
    margin: 0 10px;
    text-decoration: none;
    color: #ffd700;
    font-size: 20px;
    transition: 0.3s;
  }

  header a:hover {
    color: #fff;
  }

  /* Tiêu đề */
  h2 {
    margin-left: 16px;
    margin-top: 30px;
    color: #ffcc33;
    text-transform: uppercase;
    letter-spacing: 2px;
  }

  /* Gallery ngang kéo trượt */
  .gallery {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    gap: 12px;
    padding: 16px;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Thẻ ảnh */
  .card {
    position: relative;
    flex: 0 0 auto;
    border-radius: 16px;
    overflow: hidden;
    scroll-snap-align: start;
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.6);
    transition: transform 0.3s ease;
    background: #000; /* tránh nền trắng khi ảnh lỗi */
  }

  .card:hover {
    transform: scale(1.03);
    box-shadow: none;
  }

  .card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  /* Overlay giá + mã ảnh */
  .overlay {
    position: absolute;
    left: 0;
    padding: 6px 10px;
    background: rgba(255, 215, 0, 0.7);
    color: #000;
    font-size: 14px;
    font-weight: 600;
  }

  .overlay.top {
    top: 0;
    border-radius: 0 8px 8px 0;
  }

  .overlay.bottom {
    bottom: 0;
    border-radius: 0 8px 0 0;
  }

  /* Kiểu ảnh theo chiều */
  .vertical {
    gap: 16px;
  }

  .vertical .card {
    width: 220px;
    aspect-ratio: 9 / 16;
  }

  .horizontal .card {
    width: 350px;
    aspect-ratio: 16 / 9;
  }

  /* Ẩn thanh cuộn */
  ::-webkit-scrollbar {
    display: none;
  }
</style>

  <script>
    // ✅ Biến sale toàn cục
    let enableSale = localStorage.getItem("saleOff") === "true" ? false : true;
    const discountPercent = 20;
  const sections = [
    {
      title: "Xứ sở hoàng hôn",
      class: "vertical",
      items: [
        ["xhh01.JPEG", 20000], ["xhh02.JPEG", 20000], ["xhh03.JPEG", 18000],
        ["xhh04.PNG", 19000], ["xhh05.JPEG", 20000], ["xhh06.JPEG", 25000],
        ["xhh07.JPEG", 22000], ["xhh08.JPG", 20000], ["xhh09.JPG", 20000],
        ["xhh010.JPG", 20000], ["xhh11.jpg", 20000], ["xhh12.jpg", 20000],
        ["xhh13.jpg", 20000], ["xhh14.jpg", 20000], ["xhh15.jpg", 20000],
        ["xhh16.jpg", 20000], ["xhh17.jpg", 20000], ["xhh18.jpg", 20000],
        ["xhh19.jpg", 25000], ["xhh20.jpg", 20000], ["xhh21.jpg", 20000],
        ["xhh22.jpg", 20000], ["xhh23.jpg", 20000], ["xhh24.jpg", 20000],
        ["xhh25.jpg", 20000], ["xhh26.jpg", 20000], ["xhh27.jpg", 20000],
        ["xhh28.jpg", 20000], ["xhh29.jpg", 20000], ["xhh30.jpg", 20000],
        ["xhh32.jpg", 20000], ["xhh33.jpg", 20000], ["xhh34.jpg", 20000],
        ["xhh35.jpg", 20000]
      ]
    },
    {
      title: "Xứ sở bình minh",
      class: "horizontal",
      items: [
        ["xbm01.JPEG", 20000], ["xbm02.JPEG", 19000], ["xbm03.JPEG", 20000],
        ["xbm04.JPEG", 18000], ["xbm12.JPEG", 20000], ["xbm14.JPEG", 20000],
        ["xbm07.JPEG", 14000], ["xbm08.JPEG", 16000], ["xbm10.JPEG", 18000],
        ["xbm15.JPEG", 14000], ["xbm17.JPEG", 20000], ["xbm18.JPEG", 20000],
        ["xbm19.JPEG", 22000], ["xbm20.JPEG", 18000], ["xbm21.JPEG", 22000],
        ["xbm24.jpg", 16000], ["xbm25.jpg", 12000], ["xbm26.jpg", 20000]
      ]
    },
    {
      title: "Xứ sở pha lê",
      class: "horizontal",
      items: [
        ["xbm05.JPEG", 25000], ["xbm06.PNG", 20000], ["xbm09.JPG", 25000],
        ["xbm11.JPEG", 20000], ["xbm13.JPEG", 20000], ["xbm16.JPEG", 25000],
        ["xbm22.JPEG", 35000], ["xbm23.jpg", 20000]
      ]
    },
    {
      title: "Cứ nhắn zalo: 0347510287 mình nha",
    }
  ];

 document.addEventListener("DOMContentLoaded", () => {
      const body = document.body;
      sections.forEach(sec => {
        const title = document.createElement("h2");
        title.textContent = sec.title;
        body.appendChild(title);

        if (!sec.items) return;

        const div = document.createElement("div");
        div.className = `gallery ${sec.class}`;
        body.appendChild(div);

        sec.items.forEach(([img, price], i) => {
          const card = document.createElement("div");
          card.className = "card";

          let finalPrice = price;
          if (enableSale) {
            finalPrice = Math.ceil(price * (1 - discountPercent / 100) / 1000) * 1000;
          }

          const priceDisplay = enableSale
            ? `<div class="overlay bottom">
                <s style="color:#a00;">${price.toLocaleString()}đ</s>
                <span style="color:#000; font-weight:700;"> ${finalPrice.toLocaleString()}đ</span>
              </div>`
            : `<div class="overlay bottom">Giá: ${price.toLocaleString()}đ</div>`;

          card.innerHTML = `
            <img src="images/${img}" alt="${sec.title} ${i+1}">
            <div class="overlay top">${img.split('.')[0].toUpperCase()}</div>
            ${priceDisplay}
          `;
          div.appendChild(card);
        });
      });
    });

    // ✅ Hàm cập nhật lại giá khi sale kết thúc
    function updatePrices() {
      document.querySelectorAll(".card").forEach(card => {
        const bottomOverlay = card.querySelector(".overlay.bottom");
        if (!bottomOverlay) return;

        const text = bottomOverlay.innerHTML;
        const match = text.match(/(\d{1,3}(?:,\d{3})*)đ/);
        if (!match) return;

        const originalPrice = parseInt(match[1].replace(/,/g, ""));
        bottomOverlay.innerHTML = `Giá: ${originalPrice.toLocaleString()}đ`;
      });
    }
  </script>
</head>

<body>
  <header>
    <a href="https://www.facebook.com/share/19eGihbGfm/?mibextid=wwXIfr" target="_blank">Facebook</a>
    <a href="https://www.tiktok.com/@52hzmisfit?_t=ZS-90KVyBJ9xH0&_r=1" target="_blank">TikTok</a>
    <a href="#">Zalo: 034 751 0287</a>
  </header>

  <h1 style="color:#FFC900; text-align:center;">GHÉP ẢNH GAME</h1>

  <div id="sale-banner" style="background:#ff5252;color:#fff;text-align:center;padding:10px 0;font-size:18px;font-weight:bold;">
    ⚡ Giảm giá kết thúc sau: <span id="countdown"></span> ⚡
  </div>

  <p style="margin-left:20px; line-height:1.6;">
    - Chào bạn, mình nhận ghép tất cả các ảnh bên dưới và có nhận ghép theo yêu cầu.<br>
    - Ảnh sẽ được trả trong 24h, thường thì sẽ sớm hơn.<br>
    - Đặc biệt ảnh trả siêu nét nha, không nét không lấy tiền.<br>
    - Cứ ib Zalo <b>0347510287</b> rep cho nhanh nha.<br><br>
    <span style="color:#CE1414;">Lưu ý: chuyển khoản trước làm sau nha. Nếu des xấu không ưng thì hoàn lại tiền.</span>
  </p>

  <h1 style="color:#fff; text-align:center;">LIÊN QUÂN MOBILE</h1>

  <script>
    const saleEndTime = new Date("2025-10-13T00:00:00+07:00").getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = saleEndTime - now;

      if (distance < 0) {
        clearInterval(timer);
        document.getElementById("countdown").innerHTML = "Hết thời gian giảm giá!";

        // Ẩn banner flash sale
        setTimeout(() => {
          const banner = document.getElementById("sale-banner");
          if (banner) {
            banner.style.display = "none";
          }
        }, 3000);

        // Tắt giảm giá & cập nhật giá
        enableSale = false;
        updatePrices();
        return;
      }

      const hours = Math.floor(distance / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      document.getElementById("countdown").innerHTML =
        `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    }

    const timer = setInterval(updateCountdown, 1000);
    updateCountdown();
  </script>
</body>
</html>
